<html>

<head>
    <title>
        Dissevelt
    </title>

    <script src="https://code.jquery.com/jquery.js"></script>
   <!-- <script src="https://code.jquery.com/mobile/1.4.4/jquery.mobile-1.4.4.min.js"></script> -->


</head>

<body>


<!--
    <div class="container">

        <div class="input-group" id="nickWrap">
            <input id="nickname" type="text" placeholder="Enter your username">
            <button type="submit" id="setNick">Entrar</button>

        </div>



        <div id="login-error" style="display:none; color:red;">
            That username is already taken. Try again.
        </div>




        <div id="contentWrap" style="display:none">


            <div id="chatWrap">
                <div id="btn1" style="height:50px; background-color:#000000;"></div>

                <div id="chat"></div>



            </div>


            <div>
                USERS
                <div id="users"></div>
            </div>


        </div>

    </div>
-->

    <script src="/js/playsound.js"></script>
    <script src="/js/three.js"></script>
    <script src="js/Projector.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/ConvexGeometry.js"></script>
    <script src="js/Detector.js"></script>
    <script src="js/stats.min.js"></script>
    <script src="js/dissevelt.js"></script>

    <script src="https://sole.github.io/tween.js/build/tween.min.js"></script>
    <script src="socket.io/socket.io.js"></script>
  <!--  <script>
        jQuery(function($) {

            var socket = io.connect();

            $('#setNick').click(function(e) {
                e.preventDefault();
                socket.emit('new user', $('#nickname').val(), function(data) {
                    if (data) {
                        $('#nickWrap').hide();
                        $('#contentWrap').show();
                    }
                    else {
                        $("#login-error").show();
                    }
                });
                $('#nickname').val('');
            });




            //emite mensaje
            $('#btn1').on("tap", function(e) {
                socket.emit('sendmessage', 60);
                console.log("envia mensaje");
            });
            //            $('#btn1').on("click", function(e) { socket.emit('send message', 60); });



            //recibe mensaje
            socket.on('newmessage', function(data) {
                $('#chat').append('<b>' + data.nick + ":</b> " + data.msg + "<br/>");
                console.log("recibe mensaje");
                //sendMiddleC(midi, 1, data.msg);
                //  sendMiddleC(midi, 1, 64);
            });


            socket.on('usernames', function(data) {
                var html = '';
                for (var username in data) {
                    html += username + '<br/>';
                }
                $('#users').html(html);
            });

        });





        /* ------------------------ MIDI ---------------------*/


        // inicializa midi

        var midi = null; // global MIDIAccess object

        function onMIDISuccess(midiAccess) {
            console.log("MIDI ready!");
            midi = midiAccess; // store in the global (in real usage, would probably keep in an object instance)
        }

        function onMIDIFailure(msg) {
            console.log("Failed to get MIDI access - " + msg);
        }

        navigator.requestMIDIAccess().then(onMIDISuccess, onMIDIFailure);



        //tocar nota MIDI
        function sendMiddleC(midiAccess, portID, note) {
            var noteOnMessage = [0x90, note, 0x7f]; // note on, middle C, full velocity
            var output = midiAccess.outputs.get(portID);
            output.send(noteOnMessage); //omitting the timestamp means send immediately.
            output.send([0x80, note, 0x40], window.performance.now() + 1000.0); //apagar
        }

        /*
        function stopMiddleC(midiAccess, portID) {
            var output = midiAccess.outputs.get(portID);
            output.send([0x80, 60, 0x40], window.performance.now() + 1000.0); // Inlined array creation- note off, middle C,  
            // release velocity = 64, timestamp = now + 1000ms.
            output.send([0x80, 61, 0x40], window.performance.now() + 1000.0);
        }
        */
    </script> -->

</body>

</html>
